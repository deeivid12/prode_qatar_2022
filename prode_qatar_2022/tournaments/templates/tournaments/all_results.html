{% extends 'tournaments/base.html' %}

{% block title %}
<title>Predicciones Participantes</title>
{% endblock %}

{% block content %}
<div class="row">
	<div class="col mt-2 mb-4">
		<h5>Predicciones Participantes</h5>
	</div>
</div>
<div class="row">
	{% for game, pronostics in games_pronostics %}
	<div class="col-12 col-md-8 col-lg-6 offset-md-2 offset-lg-3 accordion" id="accordion{{game.id}}">
		<div class="accordion-item">
		  <h2 class="accordion-header" id="headingOne">
			<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{game.id}}" aria-expanded="true" aria-controls="collapse{{game.id}}">
				{% if game.played %}{{game.home_team}} {{game.home_goals}} - {{game.away_goals}} {{game.away_team}}{% else %}{{game.home_team}} - {{game.away_team}}{% endif %} | {% if game.game_instance == 0 %}Fase de Grupos{% elif game.game_instance == 1 %}Octavos de Final{% elif game.game_instance == 2 %}Cuartos de Final{% elif game.game_instance == 3 %}Semifinal{% elif game.game_instance == 4 %}Final{% endif %} |{% if game.played %} Finalizado {% else %} Pendiente {% endif %}
			</button>
		  </h2>
		  <div id="collapse{{game.id}}" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordion{{game.id}}">
			<div class="accordion-body">
				<!-- <div class="row">
					<div class="col-10 col-md-8 col-lg-6 mx-auto"> -->
						<div class="table-responsive">
							<table class="table table-dark rounded overflow-hidden">
								<thead>
									<tr>
										<th>Usuario</th>
										<th>L</th>
										<th>-</th>
										<th>V</th>
										<th>PK</th>
										<th>Puntos</th>
									</tr>
								</thead>
								{% for pronostic in pronostics %}
								<tbody>
									<tr>
										<td>{{pronostic.user|title}}</td>
										<td>{{game.home_team.fifa_code}}</td>
										<td>{{pronostic.home_goals}} - {{pronostic.away_goals}}</td>
										<td>{{game.away_team.fifa_code}}</td>
										<td>{% if pronostic.penalties_win == 1 %}{{game.home_team.fifa_code}}{% elif pronostic.penalties_win == 2 %}{{game.away_team.fifa_code}}{% else %}-{% endif %}</td>
										<td>{% if game.played and pronostic.points is not None %}{{pronostic.points}}{% else %}-{% endif %}</td>
									</tr>
								</tbody>
								{% endfor %}
							</table>
						</div>
					<!-- </div>
				</div> -->
			</div>
		  </div>
		</div>
	</div>
	{% endfor %}
</div>
<div class="row mx-auto">
	<button onclick="history.back()" class="btn btn-dark col-3 col-md-2 col-lg-1 mx-auto mt-2">Volver</button>
</div>
</br>	
{% endblock %}